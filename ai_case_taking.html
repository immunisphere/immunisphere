<!DOCTYPE html>
<html>
<head>
<title>AI Case Taking â€“ ImmuniSphere</title>
<style>
body { font-family: Arial; background:#f4f7fb; margin:0; }
.chatbox { max-width:800px; margin:30px auto; background:white; padding:20px; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
.msg { margin:10px 0; padding:10px; border-radius:6px; }
.ai { background:#e9f5ff; }
.user { background:#d4f8e8; text-align:right; }
input { width:100%; padding:10px; margin-top:10px; }
button { margin-top:10px; padding:10px 15px; background:#2bb673; color:white; border:none; border-radius:4px; }
</style>
</head>
<body>

<div class="chatbox">
    <h2>AI Homeopathic Case Taking</h2>
    <div id="chat"></div>
    <input type="text" id="userInput" placeholder="Type your answer...">
    <button onclick="sendAnswer()">Send</button>
</div>

<script>
const questions = [
"Hello, I will help collect your case details. What is your main health problem?",
"Since when has this problem started?",
"Where exactly do you feel the problem?",
"How would you describe the sensation (burning, throbbing, dull, stitching)?",
"What makes it worse?",
"What makes it better?",
"How is your thirst? Do you drink large or small quantities?",
"Any particular food cravings or dislikes?",
"How do you react emotionally to stress or grief?",
"Do you prefer company or being alone when upset?",
"Describe your sleep position and dreams if any."
];

let step = 0;
let answers = [];

function addMessage(text, sender) {
    const div = document.createElement("div");
    div.className = "msg " + sender;
    div.innerText = text;
    document.getElementById("chat").appendChild(div);
}

function sendAnswer() {
    const input = document.getElementById("userInput");
    if (!input.value) return;

    addMessage(input.value, "user");
    answers.push({ question: questions[step-1], answer: input.value });
    input.value = "";

    if (step < questions.length) {
        setTimeout(() => {
            addMessage(questions[step], "ai");
            step++;
        }, 500);
    } else {
        finishCase();
    }
}

function finishCase() {
    localStorage.setItem("aiCaseData", JSON.stringify(answers));
    addMessage("Thank you. Your case has been recorded and sent to the doctor for review.", "ai");
}

addMessage(questions[step], "ai");
step++;
</script>

</body>
</html>
