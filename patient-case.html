<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Patient Case – ImmuniSphere</title>

<style>
body { margin:0; font-family: Arial, sans-serif; background:#f4f7fb; }

.topbar {
    background: linear-gradient(90deg,#0f6cab,#2bb673);
    color:white; padding:15px 25px;
    display:flex; justify-content:space-between; align-items:center;
}

.container { padding:25px; max-width:1200px; margin:auto; }

.card {
    background:white; padding:20px; border-radius:8px;
    box-shadow:0 4px 10px rgba(0,0,0,0.08); margin-bottom:20px;
}

h2 { margin-top:0; color:#0f6cab; }

.grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; }

label { font-weight:bold; display:block; margin-top:10px; }

input, textarea, select {
    width:100%; padding:8px; margin-top:5px;
    border-radius:4px; border:1px solid #ccc;
}

textarea { min-height:80px; resize:vertical; }

.btn {
    background:#2bb673; color:white; padding:10px 18px;
    border:none; border-radius:4px; cursor:pointer; margin-top:10px;
}

.remedy-row {
    border:1px solid #ddd; padding:10px; border-radius:6px; margin-top:10px;
    background:#f9fbfd;
}

.history-entry {
    border-left:4px solid #0f6cab; padding-left:10px; margin-bottom:10px; font-size:14px;
}

.slider-labels { display:flex; justify-content:space-between; font-size:12px; }

.video-box {
    background:#e9f5ff; padding:15px; border-radius:6px; text-align:center;
}

.success-msg { color:green; font-size:14px; margin-top:8px; }
</style>
</head>
<body>

<div class="topbar">
    <div>← Back to Dashboard</div>
    <div>Patient Case File</div>
    <div>Dr. Sharma | <a href="login.html" style="color:white;">Logout</a></div>
</div>

<div class="container">

<!-- PATIENT INFO -->
<div class="card grid">
    <div>
        <h2>Patient Details</h2>
        <p><strong>Name:</strong> Riya Patel</p>
        <p><strong>Age:</strong> 29</p>
        <p><strong>Gender:</strong> Female</p>
        <p><strong>Case ID:</strong> IM-2026-014</p>
    </div>
    <div>
        <h2>Medical Overview</h2>
        <p><strong>Primary Complaint:</strong> Chronic Migraine</p>
        <p><strong>Status:</strong> Active</p>
        <p><strong>Last Follow-up:</strong> 15 Jan 2026</p>
    </div>
</div>

<!-- CASE NOTES -->
<div class="card">
    <h2>Case Notes</h2>
    <label>Main Symptoms</label><textarea></textarea>
    <label>Modalities</label><textarea></textarea>
    <label>Mental & Emotional State</label><textarea></textarea>
    <label>Physical Generals</label><textarea></textarea>
</div>

<!-- PRESCRIPTION -->
<div class="card">
    <h2>Prescription</h2>

    <div class="remedy-row">
        <label>Remedy</label><input type="text">
        <label>Potency</label>
        <select><option>30C</option><option>200C</option><option>1M</option><option>10M</option></select>
        <label>Dose</label><input type="text">
    </div>

    <div class="remedy-row">
        <label>Second Remedy (Optional)</label><input type="text">
        <label>Potency</label>
        <select><option>30C</option><option>200C</option><option>1M</option><option>10M</option></select>
        <label>Dose</label><input type="text">
    </div>

    <button class="btn">Save Prescription</button>
</div>

<!-- FOLLOW-UP PROGRESS -->
<div class="card">
    <h2>Follow-up Progress</h2>
    <label>Patient Response</label>
    <input type="range" min="1" max="3">
    <div class="slider-labels"><span>Worse</span><span>Same</span><span>Better</span></div>
    <label>Follow-up Notes</label>
    <textarea></textarea>
    <button class="btn">Save Follow-up</button>
</div>

<!-- FOLLOW-UP REMINDER -->
<div class="card">
    <h2>Next Follow-up Reminder</h2>
    <label>Next Follow-up Date</label>
    <input type="date" id="nextFollowupDate">
    <label>Reminder Note</label>
    <input type="text" id="reminderNote">
    <button class="btn" onclick="saveReminder()">Set Reminder</button>
    <div id="reminderMsg" class="success-msg"></div>
</div>

<!-- MEDICINE DISPATCH -->
<div class="card">
    <h2>Medicine Dispatch</h2>
    <label>Courier Service</label><input type="text">
    <label>Tracking Number</label><input type="text">
    <label>Dispatch Notes</label><textarea></textarea>
    <button class="btn">Mark as Dispatched</button>
</div>

<!-- REPORT UPLOAD -->
<div class="card">
    <h2>Upload Reports</h2>
    <input type="file">
    <button class="btn">Upload</button>
</div>

<!-- VIDEO CONSULT -->
<div class="card video-box">
    <h2>Video Consultation</h2>
    <p>Start secure online consultation with patient</p>
    <button class="btn">Start Video Call</button>
</div>

<!-- HISTORY -->
<div class="card">
    <h2>Case Timeline</h2>
    <div class="history-entry"><strong>15 Jan 2026:</strong> Improvement noted</div>
    <div class="history-entry"><strong>02 Jan 2026:</strong> Initial consultation</div>
</div>

</div>

<script>
// SAVE REMINDER
function saveReminder() {
    const date = document.getElementById("nextFollowupDate").value;
    const note = document.getElementById("reminderNote").value;

    if (!date) return alert("Select follow-up date");

    const reminder = {
        patient: "Riya Patel",
        caseId: "IM-2026-014",
        date: date,
        note: note
    };

    let reminders = JSON.parse(localStorage.getItem("followupReminders")) || [];
    reminders.push(reminder);
    localStorage.setItem("followupReminders", JSON.stringify(reminders));

    document.getElementById("reminderMsg").innerText = "Follow-up reminder set successfully";
}

// CHECK REMINDERS ON PAGE LOAD
function checkReminders() {
    const today = new Date().toISOString().split("T")[0];
    let reminders = JSON.parse(localStorage.getItem("followupReminders")) || [];

    reminders.forEach(r => {
        if (r.date <= today) {
            alert(`Follow-up Due!\nPatient: ${r.patient}\nNote: ${r.note}`);
        }
    });
}

checkReminders();
    function analyzeFollowUp(previous, current) {
    if (current > previous) return "Improvement";
    if (current < previous) return "Aggravation";
    return "No Change";
}

// Example usage
let lastScore = 2; // previous visit
let newScore = document.querySelector("input[type=range]").value;

console.log("AI Follow-up Analysis:", analyzeFollowUp(lastScore, newScore));
</script>

</body>
</html>
