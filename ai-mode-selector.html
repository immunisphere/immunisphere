<!DOCTYPE html>
<html>
<head>
<title>AI Consultation Mode Detection</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    font-family: Arial, sans-serif;
    margin:0;
    background: linear-gradient(135deg, #0f6cab, #2bb673);
    color:white;
    text-align:center;
}
.container{
    max-width:600px;
    margin:auto;
    padding:60px 20px;
}
h1{ margin-bottom:10px; }
p{ opacity:0.9; margin-bottom:30px; }

.card{
    background:white;
    color:#333;
    padding:20px;
    border-radius:10px;
    margin-top:20px;
}

button{
    padding:14px 20px;
    margin:10px;
    border:none;
    border-radius:6px;
    font-size:16px;
    cursor:pointer;
}
.auto{ background:#2bb673; color:white; }
.acute{ background:#ff7043; color:white; }
.chronic{ background:#0f6cab; color:white; }

.result{
    font-size:18px;
    font-weight:bold;
    margin-top:15px;
}
</style>
</head>
<body>

<div class="container">
    <h1>ðŸ©º AI Consultation Mode</h1>
    <p>AI can automatically decide the case type or you can choose manually</p>

    <button class="auto" onclick="autoDetect()">ðŸ¤– Auto Detect Mode</button>

    <div class="card">
        <h3>Or Select Manually</h3>
        <button class="acute" onclick="goAcute()">âš¡ Acute</button>
        <button class="chronic" onclick="goChronic()">ðŸ§  Chronic</button>
        <div id="decision" class="result"></div>
    </div>
</div>

<script>
// Example data pulled from AI case-taking page
const caseData = JSON.parse(localStorage.getItem("aiCaseData")) || {
    durationDays: 2,
    onset: "sudden",
    intensity: "high",
    mentalSymptoms: false,
    causeKnown: true
};

function autoDetect(){
    let scoreAcute = 0;
    let scoreChronic = 0;

    if(caseData.durationDays <= 7) scoreAcute += 2;
    if(caseData.durationDays > 21) scoreChronic += 2;

    if(caseData.onset === "sudden") scoreAcute += 2;
    if(caseData.onset === "gradual") scoreChronic += 2;

    if(caseData.intensity === "high") scoreAcute += 1;

    if(caseData.mentalSymptoms) scoreChronic += 2;

    if(caseData.causeKnown) scoreAcute += 1;

    if(scoreAcute >= scoreChronic){
        document.getElementById("decision").innerHTML = "âš¡ AI Selected: ACUTE MODE";
        localStorage.setItem("caseMode", "acute");
        setTimeout(()=>window.location.href="ai-acute-analysis.html",1500);
    } else {
        document.getElementById("decision").innerHTML = "ðŸ§  AI Selected: CHRONIC MODE";
        localStorage.setItem("caseMode", "chronic");
        setTimeout(()=>window.location.href="ai-chronic-analysis.html",1500);
    }
}

function goAcute(){
    localStorage.setItem("caseMode", "acute");
    window.location.href = "ai-acute-analysis.html";
}

function goChronic(){
    localStorage.setItem("caseMode", "chronic");
    window.location.href = "ai-chronic-analysis.html";
}
</script>

</body>
</html>
